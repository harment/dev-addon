<xf:formrow rowtype="input"
    label="{{ phrase('harment_xbttracker_passkey') }}">
    
    <div class="inputGroup">
        <xf:textbox name="xbt_passkey" value="{$user.xbt_passkey}" readonly="true" />
        <span class="inputGroup-splitter"></span>
        <xf:button href="{{ link('users/generate-passkey', $user) }}" 
            icon="sync" 
            overlay="true">{{ phrase('harment_xbttracker_generate_new') }}</xf:button>
    </div>
    <div class="formRow-explain">
        {{ phrase('harment_xbttracker_passkey_admin_explain') }}
    </div>
</xf:formrow>

<xf:if is="$xbtUserStats AND !$xbtUserStats|empty">
    <hr class="formRowSep" />
    
    <xf:formrow label="{{ phrase('harment_xbttracker_user_stats') }}">
        <div class="pairJustifier">
            <dl class="pairs pairs--justified">
                <dt>{{ phrase('harment_xbttracker_active_torrents') }}</dt>
                <dd>{$xbtUserStats.active_torrents}</dd>
            </dl>
            <dl class="pairs pairs--justified">
                <dt>{{ phrase('harment_xbttracker_uploaded') }}</dt>
                <dd>{$xbtUserStats.uploaded|file_size}</dd>
            </dl>
            <dl class="pairs pairs--justified">
                <dt>{{ phrase('harment_xbttracker_downloaded') }}</dt>
                <dd>{$xbtUserStats.downloaded|file_size}</dd>
            </dl>
            <xf:if is="$xbtUserStats.downloaded > 0">
                <dl class="pairs pairs--justified">
                    <dt>{{ phrase('harment_xbttracker_ratio') }}</dt>
                    <dd>{$xbtUserStats.ratio|number(2)}</dd>
                </dl>
            </xf:if>
        </div>
    </xf:formrow>
</xf:if>